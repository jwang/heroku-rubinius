!RBIX
4472690874163217065
18
M
1
n
n
x
10
__script__
i
46
5
7
0
64
47
49
1
1
15
5
7
2
64
47
49
1
1
15
99
7
3
65
49
4
2
13
99
12
7
5
12
7
6
12
65
12
49
7
4
15
49
5
0
15
2
11
I
6
I
0
I
0
I
0
I
0
n
p
8
s
2
dl
x
7
require
s
8
dl/types
x
2
DL
x
11
open_module
x
15
__module_init__
M
1
n
n
x
2
DL
i
28
5
66
99
7
0
65
49
1
2
13
99
12
7
2
12
7
3
12
65
12
49
4
4
15
49
2
0
11
I
6
I
0
I
0
I
0
I
0
n
p
5
x
10
Importable
x
11
open_module
x
15
__module_init__
M
1
n
n
x
10
Importable
i
51
5
66
65
7
0
44
43
1
78
49
2
1
49
3
2
15
99
7
4
65
49
5
2
13
99
12
7
6
12
7
7
12
65
12
49
8
4
15
49
6
0
15
5
45
4
9
47
49
10
1
11
I
6
I
0
I
0
I
0
I
0
n
p
11
x
7
LIB_MAP
x
4
Hash
x
16
new_from_literal
x
9
const_set
x
8
Internal
x
11
open_module
x
15
__module_init__
M
1
n
n
x
8
Internal
i
194
5
66
99
7
0
7
1
65
67
49
2
0
49
3
4
15
99
7
4
7
5
65
67
49
2
0
49
3
4
15
99
7
6
7
7
65
67
49
2
0
49
3
4
15
99
7
8
7
9
65
67
49
2
0
49
3
4
15
65
7
10
7
8
47
49
11
2
15
99
7
12
7
13
65
67
49
2
0
49
3
4
15
99
7
14
7
15
65
67
49
2
0
49
3
4
15
99
7
16
7
17
65
67
49
2
0
49
3
4
15
99
7
18
7
19
65
67
49
2
0
49
3
4
15
99
7
20
7
21
65
67
49
2
0
49
3
4
15
99
7
22
7
23
65
67
49
2
0
49
3
4
15
99
7
24
7
25
65
67
49
2
0
49
3
4
15
99
7
26
7
27
65
67
49
2
0
49
3
4
15
99
7
28
7
29
65
67
49
2
0
49
3
4
11
I
5
I
0
I
0
I
0
I
0
n
p
30
x
10
init_types
M
1
n
n
x
10
init_types
i
35
39
0
13
10
34
15
44
43
1
43
2
13
71
3
47
9
29
47
49
4
0
13
47
49
5
0
15
8
32
49
3
0
38
0
11
I
2
I
0
I
0
I
0
I
0
n
p
6
x
6
@types
x
2
DL
x
5
Types
x
3
new
x
8
allocate
x
10
initialize
p
5
I
-1
I
b
I
0
I
c
I
23
x
27
lib/ext/dl/lib/dl/import.rb
p
0
x
17
method_visibility
x
15
add_defn_method
x
8
init_sym
M
1
n
n
x
8
init_sym
i
16
39
0
13
10
15
15
44
43
1
78
49
2
1
38
0
11
I
2
I
0
I
0
I
0
I
0
n
p
3
x
4
@SYM
x
4
Hash
x
16
new_from_literal
p
5
I
-1
I
f
I
0
I
10
I
10
x
27
lib/ext/dl/lib/dl/import.rb
p
0
x
2
[]
M
1
n
n
x
2
[]
i
16
39
0
20
0
49
1
0
49
2
1
78
49
2
1
11
11
I
3
I
1
I
1
I
0
I
1
n
p
3
x
4
@SYM
x
4
to_s
x
2
[]
p
5
I
-1
I
13
I
0
I
14
I
10
x
27
lib/ext/dl/lib/dl/import.rb
p
1
x
4
name
x
6
dlload
M
1
n
n
x
6
dlload
i
31
5
7
0
49
1
1
9
12
7
2
8
13
1
9
18
1
8
22
35
0
38
0
15
20
0
56
3
50
4
0
11
I
3
I
1
I
0
I
0
I
0
I
0
p
5
x
5
@LIBS
x
31
__instance_variable_defined_p__
s
17
instance-variable
M
1
p
2
x
9
for_block
t
n
x
6
dlload
i
52
57
19
0
15
45
0
1
20
0
49
2
1
9
17
1
8
37
45
0
3
20
0
45
4
5
20
0
49
6
1
13
18
3
49
7
2
15
15
39
8
45
0
9
20
0
49
2
1
49
10
1
11
I
6
I
1
I
1
I
0
I
1
n
p
11
x
7
LIB_MAP
n
x
2
[]
n
x
2
DL
n
x
6
dlopen
x
3
[]=
x
5
@LIBS
n
x
4
push
p
11
I
0
I
1b
I
4
I
1c
I
11
I
1d
I
25
I
0
I
26
I
1f
I
34
x
27
lib/ext/dl/lib/dl/import.rb
p
1
x
7
libname
x
4
each
p
11
I
-1
I
17
I
0
I
18
I
12
I
19
I
16
I
0
I
17
I
1b
I
1f
x
27
lib/ext/dl/lib/dl/import.rb
p
1
x
8
libnames
x
6
dllink
x
12
alias_method
x
12
parse_cproto
M
1
n
n
x
12
parse_cproto
i
246
20
0
7
0
13
70
9
20
15
44
43
1
7
2
78
49
3
2
6
0
7
4
64
49
5
2
49
6
0
19
0
15
20
0
13
7
7
13
70
9
53
15
44
43
1
7
8
78
49
3
2
6
7
12
49
9
1
9
227
15
4
5
78
98
10
2
19
1
15
4
5
79
98
10
2
49
6
0
19
2
15
20
1
7
11
13
70
9
101
15
44
43
1
7
2
78
49
3
2
6
11
49
12
1
19
1
15
20
2
7
13
13
70
9
127
15
44
43
1
7
14
78
49
3
2
6
13
49
12
1
19
2
15
20
1
49
15
0
19
3
15
20
3
7
16
13
70
9
161
15
44
43
1
7
17
78
49
3
2
6
16
49
18
1
9
203
20
3
7
19
13
70
9
186
15
44
43
1
7
20
78
49
3
2
6
19
7
21
64
49
22
2
15
20
1
7
23
64
49
24
1
8
204
1
15
20
1
7
4
64
49
25
1
19
1
15
20
3
20
1
20
2
35
3
11
8
245
15
5
45
26
27
7
28
20
0
47
101
29
63
2
47
49
30
2
11
I
9
I
4
I
1
I
0
I
1
n
p
31
n
x
6
Regexp
s
3
\s+
x
3
new
s
1
 
x
4
gsub
x
5
strip
n
s
40
^([\d\w\*_\s]+)\(([\d\w\*_\s\,\[\]]*)\)$
x
3
===
x
24
regexp_last_match_result
n
x
5
split
n
s
7
\s*,\s*
x
3
pop
n
s
3
^\*
x
2
=~
n
s
4
^\*+
s
0

x
5
gsub!
s
1
*
x
4
push
x
4
join
x
12
RuntimeError
n
s
36
can't parse the function prototype: 
x
4
to_s
x
5
raise
p
37
I
-1
I
24
I
0
I
25
I
20
I
26
I
22
I
27
I
3c
I
28
I
45
I
29
I
51
I
2a
I
6b
I
2b
I
85
I
2c
I
8d
I
2d
I
a6
I
2e
I
c1
I
2f
I
cb
I
2d
I
cc
I
0
I
cd
I
31
I
d8
I
32
I
e4
I
34
I
f5
I
0
I
f6
x
27
lib/ext/dl/lib/dl/import.rb
p
4
x
5
proto
x
3
ret
x
4
args
x
4
func
x
6
extern
M
1
n
n
x
6
extern
i
36
5
20
0
47
49
0
1
97
37
19
1
15
37
19
2
15
37
19
3
15
15
2
15
5
20
1
20
2
20
3
47
49
1
3
11
11
I
8
I
4
I
1
I
0
I
1
n
p
2
x
12
parse_cproto
x
6
import
p
7
I
-1
I
3b
I
0
I
3c
I
17
I
3d
I
24
x
27
lib/ext/dl/lib/dl/import.rb
p
4
x
5
proto
x
4
func
x
3
ret
x
4
args
x
8
callback
M
1
n
n
x
8
callback
i
226
5
20
0
47
49
0
1
97
37
19
1
15
37
19
2
15
37
19
3
15
15
2
15
5
47
49
1
0
15
5
47
49
2
0
15
39
3
20
2
49
4
1
97
37
19
4
15
37
19
5
15
37
19
6
15
15
2
15
20
4
9
65
1
8
82
5
45
5
6
7
7
20
2
47
101
8
63
2
47
49
9
2
15
5
20
3
47
49
10
1
97
37
19
7
15
37
19
8
15
37
19
9
15
15
2
15
20
4
20
7
81
11
19
10
15
5
7
12
20
1
47
101
8
63
2
47
49
13
1
15
5
7
14
20
10
47
101
8
7
15
63
3
7
16
20
1
47
101
8
7
17
63
3
7
18
64
7
19
20
1
47
101
8
7
20
63
3
7
21
64
7
22
64
7
23
64
7
24
64
7
25
64
7
26
64
35
10
7
27
64
49
28
1
47
49
13
1
19
11
15
39
29
20
1
20
11
20
6
20
8
20
9
35
4
13
18
3
49
30
2
15
15
20
11
11
11
I
17
I
c
I
1
I
0
I
1
n
p
31
x
12
parse_cproto
x
10
init_types
x
8
init_sym
x
6
@types
x
18
encode_return_type
x
9
TypeError
n
s
18
unsupported type: 
x
4
to_s
x
5
raise
x
21
encode_argument_types
x
1
+
s
17
module_function :
x
11
module_eval
s
14
DL::callback("
s
10
"){|*args|
s
28
  sym,rdec,enc,dec  = @SYM['
s
2
']
s
30
  args = enc.call(args) if enc
s
9
  r,rs = 
s
7
(*args)
s
27
  r  = renc.call(r) if rdec
s
34
  rs = dec.call(rs) if (dec && rs)
s
13
  @retval = r
s
14
  @args   = rs
s
3
  r
s
1
}
s
1


x
4
join
x
4
@SYM
x
3
[]=
p
57
I
-1
I
43
I
0
I
44
I
17
I
46
I
1d
I
47
I
23
I
49
I
3a
I
4a
I
41
I
4b
I
52
I
0
I
53
I
4d
I
6a
I
4e
I
73
I
50
I
82
I
5c
I
83
I
52
I
8e
I
53
I
99
I
54
I
9c
I
55
I
a7
I
56
I
aa
I
57
I
ad
I
58
I
b0
I
59
I
b3
I
5a
I
b6
I
5b
I
bb
I
5c
I
be
I
52
I
c1
I
5c
I
c5
I
51
I
c8
I
5e
I
de
I
60
I
e2
x
27
lib/ext/dl/lib/dl/import.rb
p
12
x
5
proto
x
4
func
x
3
ret
x
4
args
x
3
rty
x
4
renc
x
4
rdec
x
2
ty
x
3
enc
x
3
dec
x
5
symty
x
3
sym
x
9
typealias
M
1
n
n
x
9
typealias
i
72
23
2
10
8
1
19
2
15
23
3
10
16
1
19
3
15
23
4
10
24
1
19
4
15
23
5
10
32
1
19
5
15
23
6
10
40
1
19
6
15
5
47
49
0
0
15
39
1
20
0
20
1
20
2
20
3
20
4
13
10
64
15
20
1
20
5
20
6
49
2
7
11
I
f
I
7
I
2
I
0
I
7
n
p
3
x
10
init_types
x
6
@types
x
9
typealias
p
11
I
-1
I
66
I
28
I
67
I
2e
I
68
I
38
I
69
I
44
I
68
I
48
x
27
lib/ext/dl/lib/dl/import.rb
p
7
x
10
alias_type
x
3
ty1
x
4
enc1
x
4
dec1
x
3
ty2
x
4
enc2
x
4
dec2
x
6
symbol
M
1
n
n
x
6
symbol
i
51
23
1
10
8
1
19
1
15
1
19
2
15
39
0
56
1
50
2
0
15
20
2
9
27
1
8
46
5
45
3
4
7
5
20
0
47
101
6
7
7
63
3
47
49
8
2
15
20
2
11
11
I
8
I
3
I
1
I
0
I
2
n
p
9
x
5
@LIBS
M
1
p
2
x
9
for_block
t
n
x
6
symbol
i
84
57
19
0
15
26
93
0
15
29
46
0
21
1
1
9
32
20
0
21
1
0
21
1
1
49
0
2
22
1
2
8
43
20
0
21
1
0
49
0
1
22
1
2
30
8
80
26
93
1
15
24
13
45
1
2
12
49
3
1
10
63
8
75
15
1
8
70
25
8
80
25
92
0
27
11
15
92
1
27
34
92
0
27
11
I
7
I
1
I
1
I
0
I
1
n
p
4
x
2
[]
x
13
StandardError
n
x
3
===
p
15
I
0
I
72
I
4
I
74
I
10
I
75
I
20
I
77
I
2b
I
0
I
33
I
7a
I
50
I
0
I
54
x
27
lib/ext/dl/lib/dl/import.rb
p
1
x
3
lib
x
4
each
x
12
RuntimeError
n
s
23
can't find the symbol `
x
4
to_s
s
1
'
x
5
raise
p
15
I
-1
I
70
I
8
I
71
I
c
I
72
I
14
I
7d
I
1b
I
7e
I
2e
I
0
I
2f
I
80
I
33
x
27
lib/ext/dl/lib/dl/import.rb
p
3
x
4
name
x
2
ty
x
3
sym
x
6
import
M
1
n
n
x
6
import
i
312
23
2
10
8
1
19
2
15
5
47
49
0
0
15
5
47
49
1
0
15
39
2
20
1
49
3
1
97
37
19
3
15
37
19
4
15
37
19
5
15
15
2
15
20
3
9
50
1
8
67
5
45
4
5
7
6
20
1
47
101
7
63
2
47
49
8
2
15
5
20
2
47
49
9
1
97
37
19
6
15
37
19
7
15
37
19
8
15
15
2
15
20
3
20
6
81
10
19
9
15
5
20
0
20
9
47
49
11
2
19
10
15
20
0
49
12
0
19
11
15
4
65
20
11
78
49
13
1
49
14
1
13
9
146
15
20
11
78
49
13
1
4
90
49
14
1
9
171
20
11
78
79
20
11
78
79
49
13
2
49
15
0
13
18
4
49
16
3
15
8
172
1
15
39
17
20
11
20
10
20
5
20
7
20
8
35
4
13
18
3
49
16
2
15
15
5
7
18
20
11
47
101
7
7
19
63
3
7
20
20
11
47
101
7
7
21
63
3
7
22
64
99
43
23
7
24
49
13
1
9
244
7
25
20
11
47
101
7
7
26
63
3
8
247
7
27
64
7
28
64
99
43
23
7
24
49
13
1
9
265
7
29
64
8
268
7
27
64
7
30
64
7
31
64
7
32
64
7
33
64
7
34
64
7
35
64
7
36
20
11
47
101
7
63
2
35
13
7
37
64
49
38
1
47
49
39
1
15
20
10
11
11
I
1b
I
c
I
2
I
0
I
3
n
p
40
x
10
init_types
x
8
init_sym
x
6
@types
x
18
encode_return_type
x
9
TypeError
n
s
18
unsupported type: 
x
4
to_s
x
5
raise
x
21
encode_argument_types
x
1
+
x
6
symbol
x
3
dup
x
2
[]
x
2
<=
x
8
downcase
x
3
[]=
x
4
@SYM
s
4
def 
s
7
(*args)
s
28
  sym,rdec,enc,dec  = @SYM['
s
2
']
s
30
  args = enc.call(args) if enc
x
7
Globals
x
6
$DEBUG
s
15
  p "[DL] call 
s
22
 with #{args.inspect}"
s
0

s
24
  r,rs = sym.call(*args)
s
49
  p "[DL] retval=#{r.inspect} args=#{rs.inspect}"
s
27
  r  = rdec.call(r) if rdec
s
26
  rs = dec.call(rs) if dec
s
13
  @retval = r
s
14
  @args   = rs
s
10
  return r
s
3
end
s
17
module_function :
s
1


x
4
join
x
11
module_eval
p
77
I
-1
I
86
I
8
I
87
I
e
I
88
I
14
I
8a
I
2b
I
8b
I
32
I
8c
I
43
I
0
I
44
I
8e
I
5b
I
8f
I
64
I
91
I
70
I
93
I
78
I
94
I
94
I
95
I
ab
I
94
I
ac
I
0
I
ad
I
97
I
c3
I
af
I
c4
I
9a
I
cf
I
9b
I
da
I
9c
I
dd
I
9d
I
e7
I
9e
I
f4
I
a0
I
f7
I
a2
I
fa
I
a3
I
104
I
a4
I
109
I
a6
I
10c
I
a8
I
10f
I
a9
I
112
I
aa
I
115
I
ab
I
118
I
ac
I
11b
I
ad
I
11e
I
ae
I
129
I
af
I
12c
I
9a
I
12f
I
af
I
134
I
b1
I
138
x
27
lib/ext/dl/lib/dl/import.rb
p
12
x
4
name
x
7
rettype
x
8
argtypes
x
3
rty
x
1
_
x
4
rdec
x
2
ty
x
3
enc
x
3
dec
x
5
symty
x
3
sym
x
5
mname
x
6
_args_
M
1
n
n
x
6
_args_
i
4
39
0
11
11
I
1
I
0
I
0
I
0
I
0
n
p
1
x
5
@args
p
5
I
-1
I
b4
I
0
I
b5
I
4
x
27
lib/ext/dl/lib/dl/import.rb
p
0
x
8
_retval_
M
1
n
n
x
8
_retval_
i
4
39
0
11
11
I
1
I
0
I
0
I
0
I
0
n
p
1
x
7
@retval
p
5
I
-1
I
b8
I
0
I
b9
I
4
x
27
lib/ext/dl/lib/dl/import.rb
p
0
x
21
encode_argument_types
M
1
n
n
x
21
encode_argument_types
i
40
5
47
49
0
0
15
35
0
19
1
15
1
19
2
15
1
19
3
15
20
0
56
1
50
2
0
15
20
1
49
3
0
20
2
20
3
35
3
11
11
I
7
I
4
I
1
I
0
I
1
n
p
4
x
10
init_types
M
1
p
2
x
9
for_block
t
n
x
21
encode_argument_types
i
163
58
37
19
0
15
37
19
1
15
15
39
0
20
0
49
1
1
97
37
19
0
15
37
19
2
15
37
19
3
15
15
2
15
20
0
9
40
1
8
57
5
45
2
3
7
4
20
0
47
101
5
63
2
47
49
6
2
15
21
1
1
20
0
49
7
1
15
21
1
2
9
97
20
2
9
94
21
1
2
19
4
15
5
56
8
47
50
9
0
22
1
2
8
95
1
8
114
20
2
9
113
5
56
10
47
50
9
0
22
1
2
8
114
1
15
21
1
3
9
145
20
3
9
142
21
1
3
19
5
15
5
56
11
47
50
9
0
22
1
3
8
143
1
8
162
20
3
9
161
5
56
12
47
50
9
0
22
1
3
8
162
1
11
I
b
I
6
I
2
I
0
I
2
n
p
13
x
6
@types
x
20
encode_argument_type
x
9
TypeError
n
s
18
unsupported type: 
x
4
to_s
x
5
raise
x
4
push
M
1
p
2
x
9
for_block
t
n
x
21
encode_argument_types
i
45
57
19
0
15
21
1
4
20
0
49
0
1
19
0
15
20
0
21
1
1
21
1
2
20
0
21
1
1
49
1
1
49
0
1
13
18
3
49
2
2
15
15
20
0
11
I
7
I
1
I
1
I
0
I
1
n
p
3
x
4
call
x
2
[]
x
3
[]=
p
3
I
0
I
ca
I
2d
x
27
lib/ext/dl/lib/dl/import.rb
p
1
x
1
v
x
4
proc
M
1
p
2
x
9
for_block
t
n
x
21
encode_argument_types
i
34
57
19
0
15
20
0
21
1
1
21
1
2
20
0
21
1
1
49
0
1
49
1
1
13
18
3
49
2
2
15
15
20
0
11
I
7
I
1
I
1
I
0
I
1
n
p
3
x
2
[]
x
4
call
x
3
[]=
p
3
I
0
I
ce
I
22
x
27
lib/ext/dl/lib/dl/import.rb
p
1
x
1
v
M
1
p
2
x
9
for_block
t
n
x
21
encode_argument_types
i
45
57
19
0
15
21
1
5
20
0
49
0
1
19
0
15
20
0
21
1
1
21
1
3
20
0
21
1
1
49
1
1
49
0
1
13
18
3
49
2
2
15
15
20
0
11
I
7
I
1
I
1
I
0
I
1
n
p
3
x
4
call
x
2
[]
x
3
[]=
p
3
I
0
I
d4
I
2d
x
27
lib/ext/dl/lib/dl/import.rb
p
1
x
1
v
M
1
p
2
x
9
for_block
t
n
x
21
encode_argument_types
i
34
57
19
0
15
20
0
21
1
1
21
1
3
20
0
21
1
1
49
0
1
49
1
1
13
18
3
49
2
2
15
15
20
0
11
I
7
I
1
I
1
I
0
I
1
n
p
3
x
2
[]
x
4
call
x
3
[]=
p
3
I
0
I
d8
I
22
x
27
lib/ext/dl/lib/dl/import.rb
p
1
x
1
v
p
53
I
0
I
c1
I
a
I
c2
I
21
I
c3
I
28
I
c4
I
39
I
0
I
3a
I
c6
I
43
I
c7
I
48
I
c8
I
4c
I
c9
I
52
I
ca
I
5e
I
c8
I
5f
I
0
I
61
I
cd
I
65
I
ce
I
71
I
cd
I
72
I
0
I
73
I
d1
I
78
I
d2
I
7c
I
d3
I
82
I
d4
I
8e
I
d2
I
8f
I
0
I
91
I
d7
I
95
I
d8
I
a1
I
d7
I
a2
I
0
I
a3
x
27
lib/ext/dl/lib/dl/import.rb
p
6
x
2
ty
x
3
idx
x
2
c1
x
2
c2
x
5
conv1
x
5
conv2
x
15
each_with_index
x
4
join
p
15
I
-1
I
bc
I
0
I
bd
I
6
I
be
I
b
I
bf
I
f
I
c0
I
13
I
c1
I
1b
I
dc
I
28
x
27
lib/ext/dl/lib/dl/import.rb
p
4
x
3
tys
x
5
encty
x
3
enc
x
3
dec
p
29
I
2
I
b
I
10
I
f
I
1e
I
13
I
2c
I
17
I
3a
I
22
I
44
I
24
I
52
I
3b
I
60
I
43
I
6e
I
66
I
7c
I
70
I
8a
I
86
I
98
I
b4
I
a6
I
b8
I
b4
I
bc
I
c2
x
27
lib/ext/dl/lib/dl/import.rb
p
0
x
13
attach_method
n
x
7
include
p
7
I
2
I
8
I
10
I
a
I
2a
I
df
I
33
x
27
lib/ext/dl/lib/dl/import.rb
p
0
x
13
attach_method
p
3
I
2
I
7
I
1c
x
27
lib/ext/dl/lib/dl/import.rb
p
0
x
13
attach_method
p
7
I
0
I
3
I
9
I
4
I
12
I
6
I
2e
x
27
lib/ext/dl/lib/dl/import.rb
p
0
